# 隐私交易共识

以下过程基于 Tendermint 如何在标准应用链中达成共识，但与 Hermit Network 的隐私功能相关：

1. 开发人员编写和部署由验证者执行的秘密合约
2. 用户向内存池提交交易——其中可以包括加密的数据输入
3. 验证者从用户那里接收加密数据并执行秘密合约
4. 在秘密合约执行期间：
   - 加密输入在可信执行环境中解密
   - 请求的函数在可信执行环境中执行
   - 可以执行来自 Tendermint 的读/写状态（状态在静止时始终加密，并且仅在可信执行环境中解密）
   - 输出被加密
5. 区块提议验证器提议一个包含加密输出和更新加密状态的区块
6. 至少 2/3 的参与验证者就加密输出和状态达成共识
7. 加密的输出和状态在链上提交