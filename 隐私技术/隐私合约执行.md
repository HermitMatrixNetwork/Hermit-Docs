# 隐私合约执行

隐私合约的代码始终公开部署在链上，因此用户和开发人员确切知道将在提交的数据上执行哪些代码。但是，提交的数据是加密的，因此如前所述，开发人员、观察链的任何人或运行节点的任何人都无法读取它。如果代码的行为是可信的（这是可能的，因为它记录在链上），秘密合约的用户将获得强大的隐私保证。

此加密数据只能从计算模块要求每个验证器运行的“可信执行环境”或 enclave 中访问。然后在这个受信任的飞地中执行秘密合同的计算，数据在此被解密。计算完成后，输出被加密并记录在链上。

可以预期有多种类型的输出，包括：

- 更新的合约状态（即用户的数据应该更新状态或存储以供将来计算）
- 为交易发送方加密的计算结果（即结果应私下返回给发送方）
- 对其他合约的回调（即，合约的调用取决于秘密合约函数的结果）向其他模块发送消息（即，用于发送取决于计算结果的价值转移消息）。

“计算”模块目前需要验证器来运行带有英特尔 SGX 芯片（enclave）的节点。这enclave包含在enclave内生成的用于远程证明的签名密钥。